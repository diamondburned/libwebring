{
  "version": 3,
  "sources": ["https://deno.land/x/literal_html@1.1.0/mod.ts", "../lib/webring.ts", "../lib/webring-element.ts"],
  "sourcesContent": ["type LiteralHTMLContentValue = {\n    /** General HTML/XML content that should have &, <, and > escaped (e.g. html`<p>${{content: \"This will be <escaped>\"}}</p>`) */\n    content: string\n};\n\ntype LiteralHTMLAttributeValue = {\n    /** HTML/XML attribute value that should have &, <, >, ', and \" escaped (e.g. html`<img alt=\"${{attr: 'This will be \"escaped\"'}}\" />`) */\n    attr: string\n};\n\ntype LiteralHTMLScriptStringLiteralValue = {\n    /** A string literal within an HTML script tag (namely for JSON-LD) that should have <, \", and \\ escaped */\n    scriptString: string\n};\n\ntype LiteralHTMLQueryParameterValue = {\n    /** Value for a URI Component (e.g. query parameter) that should be escaped using encodeURIComponent() */\n    param: string\n};\n\ntype LiteralHTMLVerbatimValue = {\n    /** Verbatim HTML/XML content that should be copied verbatim; only use with valid HTML/XML strings (e.g. html`<p>${{verbatim: \"Line 1<br/>Line 2<br/>\"}}</p>`)  */\n    verbatim: string\n};\n\ntype LiteralHTMLValue =\n    | string\n    | number\n    | LiteralHTMLContentValue\n    | LiteralHTMLAttributeValue\n    | LiteralHTMLScriptStringLiteralValue\n    | LiteralHTMLQueryParameterValue\n    | LiteralHTMLVerbatimValue\n;\n\ntype taggedTemplateLiteralHandler = (strings: TemplateStringsArray, ...values: LiteralHTMLValue[]) => string;\n\nfunction createEscaper(aposEntity: string): taggedTemplateLiteralHandler {\n    const escapeDefault = (str: string) => str\n        .replaceAll(\"&\", \"&amp;\")\n        .replaceAll(\"<\", \"&lt;\")\n        .replaceAll(\">\", \"&gt;\")\n        .replaceAll(\"'\", aposEntity)\n        .replaceAll(\"\\\"\", \"&quot;\")\n    ;\n\n    return (strings, ...values): string => {\n        let result = strings[0];\n        let i = 1;\n        for (const value of values) {\n            switch (typeof(value)) {\n                case \"string\":\n                    // Default escaping: &<>'\"\n                    result += escapeDefault(value);\n                    break;\n\n                case \"number\":\n                    // No escaping for numbers\n                    result += value.toString();\n                    break;\n\n                case \"object\":\n                    {\n                        switch (Object.keys(value)[0]) {\n                            case \"content\":\n                                // Content escaping: &<>\n                                result += (value as LiteralHTMLContentValue).content\n                                    .replaceAll(\"&\", \"&amp;\")\n                                    .replaceAll(\"<\", \"&lt;\")\n                                    .replaceAll(\">\", \"&gt;\")\n                                ;\n                                break;\n                            \n                            case \"attr\":\n                                // Attribute value escaping: &<>'\"\n                                result += escapeDefault((value as LiteralHTMLAttributeValue).attr);\n                                break;\n\n                            case \"scriptString\" :\n                                // HTML script string literal escaping: <\"\\\n                                result += (value as LiteralHTMLScriptStringLiteralValue).scriptString\n                                    .replaceAll(\"\\\\\", \"\\\\\\\\\")\n                                    .replaceAll(\"<\", \"\\\\x3C\")\n                                    .replaceAll(\"\\\"\", \"\\\\\\\"\")\n                                ;\n                                break;\n                            \n                            case \"param\":\n                                // URI Component (and attribute) escaping\n                                result += escapeDefault(encodeURIComponent((value as LiteralHTMLQueryParameterValue).param));\n                                break;\n\n                            case \"verbatim\":\n                                // Verbatim copy: no escaping\n                                result += (value as LiteralHTMLVerbatimValue).verbatim;\n                                break;\n                        }\n                    }\n                    break;\n            }\n\n            result += strings[i++];\n        }\n        return result;\n    };\n}\n\n/** Tagged literal template handler for HTML templates; accepts strings, numbers, and objects with a single key named content, attr, param, or verbatim */\nexport const html: taggedTemplateLiteralHandler = createEscaper(\"&#39;\");\n\n/** Tagged literal template handler for XML templates; accepts strings, numbers, and objects with a single key named content, attr, param, or verbatim */\nexport const xml: taggedTemplateLiteralHandler = createEscaper(\"&apos;\");\n", "export type WebringData = {\n  readonly version: 1;\n  name?: string;\n  root?: string;\n  ring: WebringLink[];\n};\n\nexport type WebringLink = {\n  name: string;\n  link: string;\n};\n\nexport type WebringStatusData = {\n  readonly version: 1;\n  anomalies: Record<string, WebringLinkStatus>;\n};\n\nexport type WebringLinkStatus = {\n  dead?: boolean;\n  missingWebring?: boolean;\n};\n\nexport class Webring {\n  #data: WebringData | null = null;\n  #link: WebringLink | null = null; // as in chain link\n  #statusData: WebringStatusData | null = null;\n\n  constructor(\n    readonly src: string | WebringData,\n    readonly opts: {\n      name?: string; // override the name of the link to use\n      statusSrc?: string;\n      statusData?: WebringStatusData;\n      // includeMissingWebringSites is true if sites that don't have a\n      // webring link should be included from the webring.\n      // This field is not always effective. See README for details.\n      includeMissingWebringSites?: boolean;\n    },\n  ) {\n    this.#data = typeof src === \"object\" ? src : null;\n    this.#statusData = opts.statusData || null;\n  }\n\n  // surroundingLinks returns the links to the left and right of the current\n  // link, or null if there are no surrounding links.\n  surroundingLinks(): { left: WebringLink; right: WebringLink } | null {\n    if (!this.available) {\n      return null;\n    }\n\n    const ix = this.#data.ring.indexOf(this.#link);\n    if (ix == -1) {\n      return null;\n    }\n\n    const leftIx = (ix - 1 + this.#data.ring.length) % this.#data.ring.length;\n    const rightIx = (ix + 1) % this.#data.ring.length;\n\n    return {\n      left: this.#data.ring[leftIx],\n      right: this.#data.ring[rightIx],\n    };\n  }\n\n  get data(): WebringData {\n    return this.#data;\n  }\n\n  set data(data: WebringData) {\n    this.#data = data;\n    this.initLink();\n  }\n\n  get statusSrc(): string | undefined {\n    if (this.opts.statusSrc) {\n      return this.opts.statusSrc;\n    }\n    if (typeof this.src === \"string\") {\n      return guessStatusSrc(this.src);\n    }\n    return undefined;\n  }\n\n  get statusData(): WebringStatusData {\n    return this.#statusData;\n  }\n\n  set statusData(statusData: WebringStatusData) {\n    this.#statusData = statusData;\n  }\n\n  get link(): WebringLink | null {\n    return this.#link;\n  }\n\n  // available is true if the webring data is available.\n  get available(): boolean {\n    return !!this.#data && !!this.#link;\n  }\n\n  // update updates the webring data. It overrides the existing internal data.\n  async update() {\n    this.#data = null;\n    this.#statusData = null;\n    await this.init();\n  }\n\n  // includeLink returns true if the link should be included in the webring.\n  includeLink(link: WebringLink): boolean {\n    if (this.#statusData) {\n      const anomaly = this.#statusData.anomalies[link.link];\n      if (anomaly) {\n        if (anomaly.dead) {\n          return false;\n        }\n        if (anomaly.missingWebring && !this.opts.includeMissingWebringSites) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  }\n\n  private async init() {\n    if (!this.#data) {\n      await this.initData(this.src);\n      this.initLink();\n    }\n\n    if (!this.#statusData) {\n      if (this.statusSrc) {\n        try {\n          await this.initStatusData(this.statusSrc);\n        } catch (err) {\n          console.error(\"Failed to fetch status data\", err);\n        }\n      }\n    }\n  }\n\n  private async initData(src: string | WebringData) {\n    if (typeof src === \"object\") {\n      this.#data = src;\n    } else {\n      const response = await fetch(src);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch webring data: ${response.status}`);\n      }\n      this.#data = await response.json();\n    }\n\n    if (this.#data.version != 1) {\n      throw new Error(\n        `Unsupported webring format version: ${this.#data.version}`,\n      );\n    }\n  }\n\n  private initLink() {\n    if (this.opts.name) {\n      this.#link = this.#data.ring.find((l) => l.name === this.opts.name);\n    } else {\n      const domain = window.location.host;\n      this.#link = this.#data.ring.find((l) => domainIncludes(l.link, domain));\n    }\n  }\n\n  private async initStatusData(statusSrc: string) {\n    const response = await fetch(statusSrc);\n    if (!response.ok) {\n      throw new Error(`Failed to fetch status data: ${response.status}`);\n    }\n\n    this.#statusData = await response.json();\n    switch (this.#statusData.version) {\n      case 1: {\n        // Only keep links that are not in the unavailable list.\n        this.#data.ring = this.#data.ring.filter((l) => this.includeLink(l));\n        break;\n      }\n      default: {\n        throw new Error(\n          `Unsupported status format version: ${this.#statusData.version}`,\n        );\n      }\n    }\n  }\n}\n\n// domainIncludes returns true if matchingDomain is a subdomain of domain.\nexport function domainIncludes(\n  domain: string,\n  matchingDomain: string,\n): boolean {\n  return domain == matchingDomain || matchingDomain.endsWith(`.${domain}`);\n}\n\nexport function guessStatusSrc(src: string): string {\n  // webring.json -> webring.status.json\n  const parts = src.split(\".\");\n  parts[parts.length - 1] = \"status.\" + parts[parts.length - 1];\n  return parts.join(\".\");\n}\n", "import { html } from \"https://deno.land/x/literal_html@1.1.0/mod.ts\";\nimport { Webring, type WebringData, type WebringLink } from \"./webring.ts\";\n\nexport class WebringElement extends HTMLElement {\n  webring: Webring;\n\n  src?: string;\n  name?: string;\n  data?: WebringData;\n  statusSrc?: string;\n  includeMissingWebringSites = false;\n\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    this.init();\n  }\n\n  // Add new attributes to this array so that attributeChangedCallback is called\n  // when any of them change.\n  static observedAttributes = [\n    \"src\",\n    \"data\",\n    \"name\",\n    \"status-src\",\n    \"include-missing-webring-sites\",\n  ];\n\n  attributeChangedCallback(name: string, oldValue?: string, newValue?: string) {\n    if (oldValue === newValue) {\n      return;\n    }\n\n    switch (name) {\n      case \"src\":\n        this.src = newValue || undefined;\n        break;\n      case \"data\":\n        try {\n          this.data = newValue ? JSON.parse(newValue) : undefined;\n        } catch (cause) {\n          this.error(cause);\n          return;\n        }\n        break;\n      case \"name\":\n        this.name = newValue || undefined;\n        break;\n      case \"status-src\":\n        this.statusSrc = newValue || undefined;\n        break;\n      case \"include-missing-webring-sites\":\n        this.includeMissingWebringSites = [\"true\", \"1\"].includes(newValue);\n        break;\n    }\n\n    this.init();\n  }\n\n  // update asynchronously updates the webring data and re-renders the element.\n  update() {\n    this.webring.update().then(() => this.render());\n  }\n\n  private error(e: unknown, nonError = false) {\n    if (nonError) {\n      console.debug(\"Not rendering webring:\", e);\n    } else {\n      console.error(\"Not rendering webring:\", e);\n    }\n    this.setVisible(false);\n  }\n\n  private init() {\n    if (!this.src && !this.data) {\n      this.error(\"missing src or data attribute\", true);\n      return;\n    }\n\n    if (this.src && this.data) {\n      this.error(\"both src and data attributes are set\");\n      return;\n    }\n\n    const src = this.data ?? this.src;\n    this.webring = new Webring(src, {\n      name: this.name,\n      statusSrc: this.statusSrc,\n      includeMissingWebringSites: this.includeMissingWebringSites,\n    });\n\n    this.update();\n  }\n\n  private render() {\n    if (elementIsEmpty(this)) {\n      this.innerHTML = html`\n        <p class=\"ring-info\">\n          <a href=\"#\" class=\"ring\" target=\"_blank\"></a> webring\n        </p>\n        <p class=\"ring-body\">\n          <a class=\"left\" href=\"#\" target=\"_blank\"></a>\n          <span class=\"middle\"></span>\n          <a class=\"right\" href=\"#\" target=\"_blank\"></a>\n        </p>\n      `;\n    }\n\n    for (const k in this.dataset) {\n      delete this.dataset[k];\n    }\n\n    const surroundingLinks = this.webring.surroundingLinks();\n    if (!surroundingLinks) {\n      console.warn(\n        \"Not rendering webring: no surrounding links found \" +\n          \"(maybe you're not in the ring?)\",\n      );\n      this.setVisible(false);\n      return;\n    }\n\n    this.dataset.ringName = this.webring.data.name;\n    this.dataset.linkName = this.webring.link.name;\n    this.dataset.leftLinkName = surroundingLinks.left.name;\n    this.dataset.rightLinkName = surroundingLinks.right.name;\n\n    this.$<HTMLAnchorElement>(\".left\", (a) => {\n      a.href = linkURL(surroundingLinks.left);\n      a.textContent = surroundingLinks.left.name;\n    });\n\n    this.$<HTMLAnchorElement>(\".ring\", (a) => {\n      a.href =\n        this.webring.data.root ||\n        (typeof this.src === \"string\" ? this.src : \"\");\n      a.textContent = this.webring.data.name || \"\";\n    });\n\n    this.$(\".middle\", (span) => {\n      span.textContent = this.webring.link.name || \"\";\n    });\n\n    this.$<HTMLAnchorElement>(\".right\", (a) => {\n      a.href = linkURL(surroundingLinks.right);\n      a.textContent = surroundingLinks.right.name;\n    });\n\n    this.setVisible(true);\n  }\n\n  private setVisible(visible: boolean) {\n    this.setAttribute(\"style\", visible ? \"\" : \"display: none;\");\n  }\n\n  private $<T = HTMLElement>(selector: string, f: (_: T) => void) {\n    const el = this.querySelector(selector);\n    if (!el) {\n      throw new Error(`Element not found: ${selector}`);\n    }\n    f(el as T);\n  }\n}\n\nfunction elementIsEmpty(el: HTMLElement): boolean {\n  return el.innerHTML.trim() == \"\";\n}\n\nfunction linkURL(link: WebringLink): string {\n  if (link.link.includes(\"://\")) {\n    return link.link;\n  }\n  return `https://${link.link}`;\n}\n\ncustomElements.define(\"webring-element\", WebringElement);\n"],
  "mappings": "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",
  "names": ["createEscaper", "aposEntity", "escapeDefault", "str", "strings", "values", "result", "i", "value", "html", "xml", "_data", "_link", "_statusData", "Webring", "src", "opts", "__privateAdd", "__privateSet", "ix", "__privateGet", "leftIx", "rightIx", "data", "guessStatusSrc", "statusData", "link", "anomaly", "err", "response", "l", "domain", "domainIncludes", "statusSrc", "matchingDomain", "parts", "WebringElement", "name", "oldValue", "newValue", "cause", "e", "nonError", "src", "Webring", "elementIsEmpty", "html", "k", "surroundingLinks", "a", "linkURL", "span", "visible", "selector", "f", "el", "link"]
}
